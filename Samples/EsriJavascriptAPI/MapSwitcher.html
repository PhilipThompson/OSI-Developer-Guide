<!doctype html>
<html>
  <head>
    <title>Esri Javascript API Hello World OSI Example</title>
    <meta charset="utf-8">

    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <meta name="author" content="Philip Thompson">

    <link rel="stylesheet" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.5/js/esri/css/esri.css">
    
    <script>        var dojoConfig = { parseOnLoad: true }; </script>
    <script src="http://serverapi.arcgisonline.com/jsapi/arcgis/3.5/"></script>
    <script>
        dojo.require("esri.map");
        dojo.require("esri.layers.WebTiledLayer");

        var map;
        function init() {
            map = new esri.Map("map", {
                center: [-6.3386, 53.36151],
                zoom: 13
            });

            var wtl = esri.layers.WebTiledLayer;
            var osiMap = new wtl("https://${subDomain}.osi.ie/ArcGIS/rest/services/webmercator/MapGenie_Basemap_WM/MapServer/tile/${level}/${row}/${col}.jpg", {
                "copyright": "OSi copyright goes here! &copy; <a href='http://www.osi.ie'>OSi</a>",
                "id": "OSi",
                "subDomains": ["webservices"]
            });
            map.addLayer(osiMap);
        }
        //show map on load 
        dojo.ready(init);
    </script>
  </head>
  <body>
    <div id="map" style="width: 600px; height: 400px"></div>
  </body>
</html>
